---
import DownloadFile from "../icons/DownloadFile.astro";
---

<style>
  #menu {
    background-color: transparent; /* Fondo inicial */
    transition:
      background-color 0.6s ease,
      box-shadow 0.6s ease; /* Transiciones suaves */
    height: 5rem;
    h3 {
      font-size: 3rem;
      line-height: 1;
      transition:
        font-size 0.6s ease,
        line-height 0.6s ease; /* Transiciones suaves */
    }
    #download-file {
      width: 3rem;
      transition: width 0.6s ease;
    }
  }

  #menu.scrolled {
    background-color: rgba(38, 50, 56, 0.8); /* Fondo oscuro */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Sombra en la parte inferior */
    height: 3.5rem;
    h3 {
      font-size: 2rem;
      line-height: 1;
    }
    #download-file {
      width: 2rem;
    }
  }

  @media (max-width: 640px) {
    #menu {
      width: 30px;
      height: 100vh;
      right: 0;
      background-color: rgba(38, 50, 56, 0.8); /* Fondo oscuro */
      div {
        flex-direction: column-reverse;
        h3 {
          display: none;
        }
      }
    }
    nav {
      height: 80%;
      flex-direction: column;
      justify-content: space-evenly;
      /* flex-grow: 1; */
      margin-top: 30px;
      margin-bottom: 30px;
    }
    .vertical-text {
      writing-mode: vertical-rl; /* Texto vertical de abajo hacia arriba */
      transform: rotate(180deg); /* Gira el texto para leerlo de forma normal */
      text-align: center;
      margin: 0 auto;
      /* margin-left: 0;
			margin-right: 0; */
    }
    #document {
      height: 20%;
      justify-content: center;
      #download-file {
        width: 2rem;
      }
    }
  }
</style>

<div
  id="menu"
  class="w-full fixed flex justify-center z-10 transition-all duration-300 z-20"
>
  <div class="w-4/5 flex justify-between">
    <h3 class="font-bold text-[#FFC86B] flex items-center">CC</h3>
    <nav class="text-white flex">
      <!-- <a class="text-l my-auto" href="#">Inicio</a> -->
      <a class="ml-5 text-l my-auto vertical-text" href="#about">Sobre mi</a>
      <a class="ml-5 text-l my-auto vertical-text" href="#proyects">Proyectos</a
      >
      <a class="ml-5 text-l my-auto vertical-text" href="#trajectory"
        >Trayectoria</a
      >
      <a class="ml-5 text-l my-auto vertical-text" href="#contact">Contactame</a
      >
    </nav>
    <div id="document" class="flex items-center">
      <DownloadFile id="download-file" />
    </div>
  </div>
</div>

<script>
  window.addEventListener("scroll", () => {
    const menu = document.getElementById("menu");

    // Verifica el tamaño de la pantalla y el scroll solo en pantallas mayores a 640px
    if (window.innerWidth > 640) {
      if (window.scrollY > 50) {
        menu!.classList.add("scrolled");
      } else {
        menu!.classList.remove("scrolled");
      }
    } else {
      // Si es pantalla chica, asegúrate de que la clase "scrolled" esté eliminada
      menu!.classList.remove("scrolled");
    }
  });

  // Vuelve a verificar el tamaño de la ventana al cambiar el tamaño del navegador
  window.addEventListener("resize", () => {
    const menu = document.getElementById("menu");
    if (window.innerWidth <= 640) {
      menu!.classList.remove("scrolled");
    }
  });
</script>
